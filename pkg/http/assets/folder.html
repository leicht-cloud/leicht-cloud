<html>
  <head>
    <link href="/css/bootstrap.min.css" rel="stylesheet"
      crossorigin="anonymous">
    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.dataTables.min.js"></script>

    <style>
      html,
body {
  height: 100%;
}

body {
  display: flex;
  align-items: center;
  padding-top: 40px;
  padding-bottom: 40px;
  background-color: #f5f5f5;
}
    </style>
    <script>
      $(document).ready(function() {
          var datatable = $('#directory').DataTable();

          $.get("/api/list")
            .then(data=>data.split('\n'))
            .then(data=>data.forEach(function(data) {
              if (data == "") {
                return;
              }
              json = JSON.parse(data);
              datatable.row.add([
                json.name,
                json.created_at,
                json.size
              ]).draw(false);
            })).then(datatable.draw());
      });
    </script>
  </head>
  <body class="text-center">
    <form enctype="multipart/form-data" action="/api/upload" method="POST">
      <div class="file-upload-wrapper">
        <input type="file" id="input-file-now-custom-2" name="file" class="file-upload" />
        <button class="w-100 btn btn-lg btn-primary" type="submit">Upload</button>
      </div>
    </form>

    <table class="table table-hover" id="directory">
      <thead>
        <tr>
          <th>Name</th>
          <th>Created At</th>
          <th>Size</th>
        </tr>
      </thead>
    </table>
  </body>
</html>
